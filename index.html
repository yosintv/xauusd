<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>YoSinTV - Cricket | Football | Playing XI | Match Preview | News</title>
    <meta name="description" content="Watch live football matches, check upcoming fixtures, team lineups, match previews & playing XI. YoSinTV provides real-time updates and latest cricket & football news.">
    <meta name="keywords" content="football matches, live football, football schedule, cricket news, football news, playing XI, match preview, football streaming, live score">
    <meta name="author" content="YoSinTV">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="language" content="English">
    <meta name="revisit-after" content="1 days">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.yosintv.link/">
    <meta property="og:title" content="Live Football Matches, Schedule & Playing XI | YoSinTV">
    <meta property="og:description" content="Watch live football matches with real-time updates, fixtures, team lineups, and match previews. Stay updated on all major football leagues and tournaments.">
    <meta property="og:image" content="https://web.cricfoot.net/favico.png">
    
    <!-- Favicon -->
    <link href="https://web.cricfoot.net/favico.png" rel="icon" type="image/x-icon">
    <link href="https://web.cricfoot.net/favico.png" rel="apple-touch-icon" type="image/png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.yosintv.link/">
    
    <!-- Tailwind CSS -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7981191925382455" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .dark body {
            background-color: #111827;
            color: #f3f4f6;
        }
        
        .match-schedule-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 1rem 3rem;
            box-sizing: border-box;
        }
        
        .league-title {
            font-size: 1rem;
            font-weight: 700;
            margin: 20px auto 15px;
            background: #1d4ed8;
            color: white;
            border-radius: 8px;
            text-align: center;
            padding: 12px;
            width: calc(100% - 1rem);
            max-width: 960px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .match-card {
            display: block;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            padding: 14px;
            margin: 16px auto;
            background: #ffffff;
            width: calc(100% - 1rem);
            max-width: 960px;
            transition: all 0.25s;
        }
        
        .dark .match-card {
            background: #374151;
            border-color: #4b5563;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
        
        .match-card:hover {
            box-shadow: 0 6px 14px rgba(0,0,0,0.15);
            border-color: #93c5fd;
        }
        
        .match-card-content {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .match-row-teams {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 8px;
        }
        
        .match-team {
            flex-grow: 1;
            flex-basis: 0;
            min-width: 0;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 1;
        }
        
        .match-team.home {
            justify-content: flex-end;
        }
        
        .match-team.away {
            justify-content: flex-start;
        }
        
        .match-team img {
            width: 48px;
            height: 48px;
            border-radius: 0;
            border: none;
            flex-shrink: 0;
        }
        
        .match-team-name {
            font-size: 1.125rem;
            font-weight: 700;
            color: #1f2937;
            flex-grow: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .dark .match-team-name {
            color: #f3f4f6;
        }
        
        .match-team.home .match-team-name {
            order: -1;
            text-align: right;
        }
        
        .match-team.away .match-team-name {
            order: 1;
            text-align: left;
        }
        
        .match-center {
            flex-shrink: 0;
            min-width: 90px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }
        
        .match-local-time {
            font-size: 0.875rem;
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 0;
        }
        
        .dark .match-local-time {
            color: #9ca3af;
        }
        
        .match-status {
            font-size: 0.75rem !important;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 9999px;
            display: inline-block;
            min-width: 60px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .match-status-countdown { background: #10b981; color: white; }
        .match-status-live { background: #ef4444; color: white; animation: pulse 1.2s infinite; }
        .match-status-over { background: #6b7280; color: #ffffff; }
        
        @keyframes pulse { 0%,100% {opacity:1} 50% {opacity:0.7} }
        
        .match-league-bar {
            margin-top: 4px;
            padding: 6px 16px;
            background: linear-gradient(135deg, rgba(29,78,216,0.08), rgba(37,99,235,0.12));
            border-radius: 8px;
            width: 100%;
            text-align: center;
            box-sizing: border-box;
        }
        
        .match-league-bar p {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            margin: 0;
            opacity: 0.8;
            color: #1d4ed8;
            letter-spacing: 0.6px;
        }
        
        .dark .match-league-bar p {
            color: #60a5fa;
        }
        
        /* NEWS SECTION STYLES */
        .news-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 1rem;
        }
        
        .news-header {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 30px;
            text-align: center;
            color: #1f2937;
            background: linear-gradient(135deg, #1d4ed8, #2563eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .dark .news-header {
            -webkit-text-fill-color: unset;
            color: #93c5fd;
        }
        
        .news-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .news-tab {
            padding: 10px 24px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: #1f2937;
        }
        
        .dark .news-tab {
            background: #374151;
            border-color: #4b5563;
            color: #f3f4f6;
        }
        
        .news-tab.active {
            background: #1d4ed8;
            color: white;
            border-color: #1d4ed8;
        }
        
        .news-tab:hover {
            border-color: #1d4ed8;
        }
        
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }
        
        .news-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid #e5e7eb;
        }
        
        .dark .news-card {
            background: #374151;
            border-color: #4b5563;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
        
        .news-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.15);
        }
        
        .news-card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #e5e7eb;
        }
        
        .news-card-content {
            padding: 20px;
        }
        
        .news-card-category {
            display: inline-block;
            padding: 4px 12px;
            background: #dbeafe;
            color: #1d4ed8;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 10px;
        }
        
        .dark .news-card-category {
            background: rgba(30, 64, 175, 0.2);
            color: #93c5fd;
        }
        
        .news-card-title {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #1f2937;
            line-height: 1.4;
        }
        
        .dark .news-card-title {
            color: #f3f4f6;
        }
        
        .news-card-description {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .dark .news-card-description {
            color: #d1d5db;
        }
        
        .news-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #e5e7eb;
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        .dark .news-card-meta {
            border-top-color: #4b5563;
        }
        
        .news-card-featured {
            position: relative;
        }
        
        .news-card-featured::before {
            content: "‚òÖ";
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            color: #f59e0b;
        }
        
        .featured-badge {
            display: inline-block;
            background: #fbbf24;
            color: #78350f;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            margin-right: 5px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.125rem;
            color: #6b7280;
        }
        
        .error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 15px;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 960px;
            text-align: center;
        }
        
        .dark .error-message {
            background: rgba(127, 29, 29, 0.2);
            color: #fca5a5;
        }
        
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .dark header {
            background: #1f2937;
        }
        
        .header-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 1rem;
            height: 70px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .toggle {
            position: relative;
            display: inline-block;
            width: 46px;
            height: 24px;
        }
        
        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ccc;
            border-radius: 30px;
            transition: .4s;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 2px;
            bottom: 2px;
            background: white;
            border-radius: 50%;
            transition: .4s;
        }
        
        input:checked + .slider {
            background: #3b82f6;
        }
        
        input:checked + .slider:before {
            transform: translateX(22px);
        }
        
        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .news-header {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 640px) {
            .match-team-name {
                font-size: 0.875rem;
            }
            
            .match-team img {
                width: 36px;
                height: 36px;
            }
            
            .match-center {
                min-width: 80px;
            }
            
            .match-card {
                padding: 10px;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

<!-- Header -->
<header>
    <div class="header-container">
        <a href="/">
            <img src="https://web.cricfoot.net/logo.png" alt="YoSinTV" style="height:65px;">
        </a>
        <label class="toggle">
            <input type="checkbox" id="darkModeToggle">
            <span class="slider"></span>
        </label>
    </div>
</header>

<main style="padding-top: 78px;">
    <!-- MATCHES SECTION -->
    <div class="match-schedule-container">
        <h1 class="league-title">üèÜ UPCOMING MATCHES</h1>
        <div id="cricket-list">
            <p style="text-align: center; padding: 40px; color: #6b7280;">Loading matches...</p>
        </div>
    </div>

    <!-- NEWS SECTION -->
    <div class="news-container">
        <h2 class="news-header">üì∞ Latest Sports News</h2>
        
        <div class="news-tabs">
            <button class="news-tab active" data-filter="all">All News</button>
            <button class="news-tab" data-filter="cricket">Cricket News</button>
            <button class="news-tab" data-filter="football">Football News</button>
            <button class="news-tab" data-filter="featured">Featured</button>
        </div>
        
        <div id="news-grid" class="news-grid">
            <div class="loading">Loading news...</div>
        </div>
        
        <div id="error-message"></div>
    </div>

</main>

<script>
    // ============= DARK MODE =============
    const toggle = document.getElementById('darkModeToggle');
    const updateTheme = (isDark) => {
        if (isDark) {
            document.body.classList.add('dark', 'bg-gray-900', 'text-gray-100');
            document.body.classList.remove('bg-gray-100', 'text-gray-900');
        } else {
            document.body.classList.remove('dark', 'bg-gray-900', 'text-gray-100');
            document.body.classList.add('bg-gray-100', 'text-gray-900');
        }
    };
    
    if (localStorage.getItem('darkMode') === 'true') {
        updateTheme(true);
        toggle.checked = true;
    }
    
    toggle.addEventListener('change', () => {
        const isChecked = toggle.checked;
        updateTheme(isChecked);
        localStorage.setItem('darkMode', isChecked);
    });

    // ============= NEWS SECTION =============
    let allNews = [];
    const CACHE_KEY = 'yosintv_news_cache';
    const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds
    
    function getNewsFromCache() {
        const cached = localStorage.getItem(CACHE_KEY);
        if (!cached) return null;
        
        try {
            const data = JSON.parse(cached);
            const now = Date.now();
            
            // Check if cache is still valid
            if (now - data.timestamp < CACHE_DURATION) {
                return data.news;
            }
        } catch (e) {
            console.error('Cache parse error:', e);
        }
        
        // Cache expired or invalid
        localStorage.removeItem(CACHE_KEY);
        return null;
    }
    
    function saveNewsToCache(news) {
        const data = {
            timestamp: Date.now(),
            news: news
        };
        localStorage.setItem(CACHE_KEY, JSON.stringify(data));
    }
    
    async function loadNews() {
        const newsGrid = document.getElementById('news-grid');
        const errorDiv = document.getElementById('error-message');
        
        try {
            // Check cache first
            let news = getNewsFromCache();
            
            if (!news) {
                // If no cache, fetch from API
                const response = await fetch('https://your-api-domain.com/api/all-news?limit=20');
                
                if (!response.ok) {
                    throw new Error(`API error: ${response.status}`);
                }
                
                const data = await response.json();
                news = data.news || [];
                
                // Save to cache
                if (news.length > 0) {
                    saveNewsToCache(news);
                }
            }
            
            if (news.length === 0) {
                newsGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px; color: #6b7280;">No news available at the moment.</p>';
                return;
            }
            
            allNews = news;
            renderNews('all');
            setupNewsFilters();
            
        } catch (error) {
            console.error('Error loading news:', error);
            newsGrid.innerHTML = '';
            errorDiv.innerHTML = `<div class="error-message">Unable to load news. Please try again later.</div>`;
        }
    }
    
    function renderNews(filter = 'all') {
        const newsGrid = document.getElementById('news-grid');
        
        let filtered = allNews;
        if (filter === 'cricket') {
            filtered = allNews.filter(n => n.category === 'cricket');
        } else if (filter === 'football') {
            filtered = allNews.filter(n => n.category === 'football');
        } else if (filter === 'featured') {
            filtered = allNews.filter(n => n.featured === true);
        }
        
        if (filtered.length === 0) {
            newsGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px; color: #6b7280;">No articles found in this category.</p>';
            return;
        }
        
        newsGrid.innerHTML = filtered.map(article => `
            <div class="news-card ${article.featured ? 'news-card-featured' : ''}">
                <img src="${article.image}" alt="${article.title}" class="news-card-image" onerror="this.src='https://via.placeholder.com/400x250?text=News'">
                <div class="news-card-content">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="news-card-category">${article.category}</span>
                        ${article.featured ? '<span class="featured-badge">FEATURED</span>' : ''}
                    </div>
                    <h3 class="news-card-title">${article.title}</h3>
                    <p class="news-card-description">${article.description}</p>
                    <div class="news-card-meta">
                        <span>${new Date(article.date).toLocaleDateString()}</span>
                        <span>${article.author || 'YoSinTV'}</span>
                    </div>
                </div>
            </div>
        `).join('');
    }
    
    function setupNewsFilters() {
        const tabs = document.querySelectorAll('.news-tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                renderNews(tab.dataset.filter);
            });
        });
    }
    
    // Load news when page loads
    document.addEventListener('DOMContentLoaded', loadNews);
    
    // ============= MATCHES SECTION (Original Code) =============
    let allMatches = [];
    let updateIntervalId;
    
    function formatMatchTime(isoString) {
        try {
            const date = new Date(isoString);
            if (isNaN(date)) return 'Time TBD';
            return new Intl.DateTimeFormat(undefined, { hour: 'numeric', minute: '2-digit', hour12: true }).format(date);
        } catch (e) {
            return 'Time TBD';
        }
    }
    
    function updateCountdownDisplay() {
        const now = Date.now();
        document.querySelectorAll('.match-status').forEach(el => {
            const start = new Date(el.dataset.time).getTime();
            const duration = (parseInt(el.dataset.duration) || 2) * 3600000;
            const end = start + duration;
            
            if (now >= end) {
                el.textContent = 'END';
                el.className = 'match-status match-status-over';
            } else if (now >= start) {
                el.textContent = 'LIVE';
                el.className = 'match-status match-status-live';
            } else {
                const diff = start - now;
                const d = Math.floor(diff / (1000 * 60 * 60 * 24));
                const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                let text = '';
                if (diff < 60000) text = 'Soon';
                else if (d > 0) text = `${d}d ${h}h`;
                else if (h > 0) text = `${h}h ${m}m`;
                else text = `${m}m`;
                el.textContent = text;
                el.className = 'match-status match-status-countdown';
            }
        });
    }
    
    function createCard(m) {
        const detailsUrl = m.details_url || '#';
        const league = m.competition || m.league || '';
        const team1Name = m.team1 || 'Home Team TBD';
        const team2Name = m.team2 || 'Away Team TBD';
        const placeholder = "https://placehold.co/48x48/ccc/333?text=L";
        const logoError = `this.onerror=null;this.src='${placeholder}';`;
        
        const leagueBar = league ? `<div class="match-league-bar"><p>${league}</p></div>` : '';
        
        const a = document.createElement('a');
        a.href = detailsUrl;
        a.className = 'match-card';
        a.target = '_blank';
        a.dataset.time = m.start || m.match_time;
        a.dataset.duration = m.duration || 2;
        a.innerHTML = `
            <div class="match-card-content">
                <div class="match-row-teams">
                    <div class="match-team home">
                        <p class="match-team-name">${team1Name}</p>
                        <img src="${m.team1_logo || placeholder}" alt="${team1Name}" onerror="${logoError}">
                    </div>
                    <div class="match-center">
                        <p class="match-local-time">${formatMatchTime(m.start || m.match_time)}</p>
                        <p class="match-status" data-time="${m.start || m.match_time}" data-duration="${m.duration || 2}">Loading...</p>
                    </div>
                    <div class="match-team away">
                        <img src="${m.team2_logo || placeholder}" alt="${team2Name}" onerror="${logoError}">
                        <p class="match-team-name">${team2Name}</p>
                    </div>
                </div>
                ${leagueBar}
            </div>
        `;
        return a;
    }
    
    function renderMatches() {
        const list = document.getElementById('cricket-list');
        list.innerHTML = '';
        allMatches.forEach((match, i) => {
            list.appendChild(createCard(match));
        });
        updateCountdownDisplay();
    }
    
    function sortAndRender(matchesArray) {
        const now = Date.now();
        
        allMatches = matchesArray.map(m => {
            const start = new Date(m.start || m.match_time).getTime();
            const duration = (parseInt(m.duration) || 2) * 3600000;
            const end = start + duration;
            
            let priority = 3;
            let sortValue = start;
            
            if (now >= start && now < end) {
                priority = 1;
                sortValue = -start;
            } else if (now < start) {
                priority = 2;
                sortValue = start;
            } else {
                priority = 3;
                sortValue = end;
            }
            
            return { ...m, priority, sortValue };
        });
        
        allMatches.sort((a, b) => {
            if (a.priority !== b.priority) return a.priority - b.priority;
            return a.sortValue - b.sortValue;
        });
        
        renderMatches();
    }
    
    async function loadMatches() {
        if (updateIntervalId) clearInterval(updateIntervalId);
        
        const apiUrl = 'https://yosintv-api.pages.dev/api/football2.json';
        const list = document.getElementById('cricket-list');
        
        try {
            const res = await fetch(apiUrl);
            if (!res.ok) throw new Error(`API error: ${res.status}`);
            
            const data = await res.json();
            let matchesArray = [];
            if (Array.isArray(data) && data.length > 0 && Array.isArray(data[0]?.matches)) {
                matchesArray = data[0].matches;
            } else if (data?.matches) {
                matchesArray = data.matches;
            } else if (Array.isArray(data)) {
                matchesArray = data;
            }
            
            if (matchesArray.length === 0) {
                list.innerHTML = '<p class="text-center text-xl font-semibold text-gray-500 py-10">No matches scheduled</p>';
                return;
            }
            
            sortAndRender(matchesArray);
            updateIntervalId = setInterval(updateCountdownDisplay, 1000);
            
        } catch (e) {
            console.error(e);
            list.innerHTML = '<p class="text-center text-xl font-semibold text-red-600 py-10">Error loading matches ‚Ä¢ Try again later</p>';
        }
    }
    
    // Load matches on page load
    loadMatches();
</script>

</body>
</html>
